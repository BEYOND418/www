<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>存储留言板</title>
    <style>
		body{ text-align:center;}
        textarea {
            width: 500px;
            height: 200px;
        }
    </style>
</head>
<body>
    <div>
        <h2>存储留言板</h2>
        <textarea id="t1"></textarea>
        <br />
        <input type="button" class="button" onclick="add()" value="留言" />
        <input type="button" class="button" onclick="clean()" value="清除留言" />
        <br />
        <label id="shows"></label>
        <textarea id="show" readonly="readonly"></textarea>
    </div>
    <script>
        function text() {
            var show = document.getElementById("show");
            var ls=window.localStorage;
            if (ls.myBoard) {
                show.value = ls.myBoard;
            }
            else {
                show.value = "还没有留言";
            }
        }
        function add() {
            var info = window.document.getElementById("t1");
            var ls = window.localStorage;

            if (ls.myBoard) {
                var date = new Date();
                console.log(date.toLocaleString())
                ls.myBoard += t1.value + "\n发表时间：" + date.toLocaleString() + "\n";
            }
            else {
                var date = new Date();
                ls.myBoard = t1.value + "\n发表时间：" + date.toLocaleString() + "\n";
            }

            text();
            info.value="";
        }
        function clean() {
            window.localStorage.removeItem("myBoard");
            text();
        }
        text();
    </script>

</body>
</html>